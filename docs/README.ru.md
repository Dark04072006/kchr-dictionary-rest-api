# RESTful API Словаря Народов Карачаево-Черкесской Республики.

## Технические преимущества проекта:

1. **Чистая архитектура**: Принципы Чистой Архитектуры Роберта Мартина (`Дядя Боб`) используются, облегчая обслуживание и гибкость кода.

2. **Применение некоторых принципов проектирования предметной области (DDD)**: Использование принципов DDD помогает выявить ключевые бизнес-сущности и улучшает модульность приложения.

3. **Использование асинхронных библиотек и фреймворков**: Проект использует асинхронные библиотеки и фреймворки, обеспечивая высокую производительность и эффективное использование ресурсов.

<!-- Установка -->

## Установка (Linux)

### 1. Клонирование репозитория

```shell
git clone https://github.com/Dark04072006/kchr-dictionary-rest-api.git
```

### 2. Переход в директорию kchr-dictionary-rest-api

```shell
cd kchr-dictionary-rest-api
```

### 3. Создание виртуальной среды

```shell
python3 -m venv .venv
```

### 4. Активация виртуальной среды

```shell
source .venv/bin/activate
```

### 5. Установка зависимостей

```shell
pip install -e .
```

#### Вы также можете установить инструменты для проверки кода или тестирования, выполнив следующую команду

```shell
pip install -e .[lint,testing]
```

### 6. Настройка переменных окружения

#### Для запуска требуется только одна переменная окружения: `DATABASE_URI`

По умолчанию она установлена на `sqlite+aiosqlite:///assets/dictionary.db`. Если вы хотите установить своё значение, выполните следующую команду

```shell
export DATABASE_URI=ВАША_URI_БАЗЫ_ДАННЫХ_СЛОВАРЯ
```

### 7. Запуск веб-API

#### 1. Установите разрешения для скрипта

```shell
chmod +x scripts/start.sh
```

#### 2. Запустите скрипт

```shell
scripts/start.sh
```

## Docker

### Запуск проекта с помощью Docker
``` shell
docker-compose up -d
```

## Документация REST API

#### GET /items

Получение списка элементов словаря.

**Описание:** Этот эндпоинт позволяет получить список элементов словаря.

**Параметры запроса:**

- `limit` (optional): Количество элементов для отображения на одной странице. Максимальное значение: 100. По умолчанию: 20.
- `offset` (optional): Смещение от начала списка элементов. Максимальное значение: 100. По умолчанию: 0.
- `language` (optional): Язык, на котором необходимо получить элементы словаря. Возможные значения: "KAR", "CS", "RUSS". По умолчанию: null.

**Пример запроса:**

```http
GET /items?limit=20&offset=0&language=KAR
```

**Пример ответа:**

```json
{
  "data": [
    {
      "id": 21,
      "original": "абитуриент",
      "translation": "абитуриент || абитуриентский",
      "original_language": "KAR",
      "translation_language": "RUSS"
    },
    {
      "id": 22,
      "original": "аблескин",
      "translation": "<em>текст. </em>аблескин <em>(род шёлковой ткани).</em>",
      "original_language": "KAR",
      "translation_language": "RUSS"
    },
    {
      "id": 23,
      "original": "аблёскюн",
      "translation": "<em>то же, что </em><strong>аблескин</strong>",
      "original_language": "KAR",
      "translation_language": "RUSS"
    }
    // Другие элементы словаря...
  ]
}
```

#### GET /translations

Поиск переводов для заданного слова/фразы.

**Описание:** Этот эндпоинт позволяет искать переводы для заданного слова/фразы.

**Параметры запроса:**

- `limit` (optional): Количество элементов для отображения на одной странице. Максимальное значение: 100. По умолчанию: 20.
- `offset` (optional): Смещение от начала списка элементов. Максимальное значение: 100. По умолчанию: 0.
- `original` (required): Слово или фраза, для которой необходимо найти перевод.
- `original_language` (required): Язык оригинала. Возможные значения: "KAR", "CS", "RUSS".
- `translation_language` (required): Язык перевода. Возможные значения: "KAR", "CS", "RUSS".

**Пример запроса:**

```http
GET /translations?limit=20&offset=0&original=привет&original_language=RUSS&translation_language=KAR
```

**Пример ответа:**

```json
{
  "data": [
    {
      "id": 42411,
      "original": "неприветливый",
      "translation": "-ая, -ое <strong>1. </strong><i>(неласковый, суровый) </i>хыны, гырхы, дюрген; ~ <strong>человек </strong>хыны адам; <strong>2. </strong><i>(мрачный) </i>къууатсыз, илешсиз, мугур.",
      "original_language": "RUSS",
      "translation_language": "KAR"
    }
    // Другие переводы...
  ]
}
```

### /health-check/

#### GET /health-check/

Проверка состояния.

**Описание:** Этот эндпоинт позволяет проверить состояние приложения.

**Пример запроса:**

```http
GET /health-check/
```

**Пример ответа:**

```json
{
  "status": "Ok"
}
```

Вы также можете воспользоваться [openapi спецификацией](https://github.com/Dark04072006/kchr-dictionary-rest-api/blob/main/openapi/openapi.json)

## Лицензия

Смотрите файл [LICENSE](https://github.com/Dark04072006/kchr-dictionary-rest-api/blob/main/LICENSE.md) для прав и ограничений лицензии (MIT).

### Проблемы

Если у вас возникли проблемы с проектом или у вас есть предложения по улучшению, пожалуйста, не стесняйтесь сообщить о них, [создав issue](https://github.com/Dark04072006/kchr-dictionary-rest-api/issues) в репозитории GitHub. Мы рады вашим отзывам!

### Pull Requests

Мы поддерживаем вклад от сообщества! Если вы хотите внести свой вклад в этот проект, пожалуйста, следуйте этим шагам:

1. Форкните репозиторий.
2. Создайте новую ветку для вашей функции или исправления ошибки.
3. Внесите изменения и убедитесь, что они правильно протестированы.
4. Предложите pull request (PR) в ветку `dev` оригинального репозитория.
5. Предоставьте подробное описание ваших изменений в описании PR.

Мы ценим ваш вклад!

### Контакт

Если у вас есть вопросы, предложения или отзывы относительно этого проекта, не стесняйтесь связаться с автором:

- **Автор:** Алим Абреков
- **Email:** Abrekovalim38702@gmail.com
- **GitHub:** [https://github.com/Dark04072006](https://github.com/Dark04072006)
- **Telegram:** [https://t.me/some_usernamexD](https://t.me/some_usernamexD)

Оставайтесь на связи!
